#!/usr/bin/env bash

# run this file to rewrite students.txt, students.csv, tas.txt, and htas.txt
# run when a student drops the course, for example. I'd recommend
# a crontab running this once a minute in the first few weeks of the
# semester so grading and handin scripts don't get messed up.
BASE_PATH="/course/cs0111/hta/groups"
PATH="$PATH:/course/cs0111/htabin"

group-data cs-0111student txt $BASE_PATH/students.txt
group-data cs-0111student csv $BASE_PATH/students.csv
group-data cs-0111ta txt $BASE_PATH/tas.txt
group-data cs-0111hta txt $BASE_PATH/htas.txt

# give TAs read-write access, HTAs full access
hta-ta-file $BASE_PATH/tas.txt rx
hta-ta-file $BASE_PATH/htas.txt rx
hta-ta-file $BASE_PATH/students.txt rx
hta-ta-file $BASE_PATH/students.csv rx
